<!DOCTYPE html>
<html lang="en-us">
	<head>
		<meta charset="UTF-8">
		<title>Outside Hangman</title>
	</head>
	
	<body>

	<div>
		<button onclick="setGame()"> Click to Start </button>
	</div>
	
	<div class="mysteryWord">
		<!--Use this div to create mystery word selected by computer-->
		<span id="mysteryWord"></span><br>
	</div>

	<div class="gameStatus">
		<!--Use this div to display number of guesses remaining-->
	Guesses Remaining: <br/>
	<span id="guessesRemaining"></span>
	</div>

	<div class="lettersGuessed">
		<!--Use this div to display selected letters-->
		Your guesses: <br/>
		<span id="lettersGuessed"><span>
	</div>

	<div class="gameResult">
		<!--Use this div to display game result-->

	</div>





		<script>

		//create variables
		var playerSelection;
		var remainingGuesses = 15;
//		var wordSelection = [];
		var lettersGuessed = [];
		var wordBank = ["tent", "bear", "fire", "woods", "cabin", "mountain", "lantern", "backpack", "hatchet", "forest", "hike", "camp"];
		var randomWord = [];
		var randomArray;
		var placeHolderArray = [];
		var placeHolderString = placeHolderArray.join("");
		var lettersGuessedString;
		var alphabet = "abcdefghijklmnopqrstuvwxyz";
		var alphabetArr = (alphabet.split("")); 
		
		

		//player starts game
		//function myGame () {
		//computer pick random word
			function setGame() {
				
				//get random word
				var randomWord = wordBank[Math.floor(Math.random() * wordBank.length)];
				var randomArray = (randomWord.split(""));
				console.log(randomWord);
				console.log(randomArray);
				console.log(randomWord.length);

				//create mystery placeholder array for screen view
				
					for (i=0; i<randomWord.length; i++) {

					placeHolderArray.push (" __ ");		
					}
				
			

				console.log(placeHolderArray);
				var placeHolderString = placeHolderArray.join("  ");
				document.getElementById("mysteryWord").textContent = placeHolderString;
				document.getElementById("guessesRemaining").textContent = remainingGuesses;
			

				//get the player selection set
				document.onkeyup = function addToPlayerSelection(event) {
					
					//define player selection and set to lowercase
					playerSelection = event.key.toLowerCase();
					console.log (playerSelection);



					//is selection in word?
					if (randomArray.indexOf(playerSelection) == -1 && lettersGuessed.indexOf(playerSelection) == -1 && alphabetArr.indexOf(playerSelection) != -1) {
						lettersGuessed.push(playerSelection);
						remainingGuesses = remainingGuesses - 1;
						 //add check for guessing letter already in array and reducing number of guesses by 1
						console.log(lettersGuessed);
						console.log(remainingGuesses);
						lettersGuessedString = lettersGuessed.join("");
						document.getElementById("lettersGuessed").textContent = lettersGuessedString;
						document.getElementById("guessesRemaining").textContent = remainingGuesses;
					}

						//else, where in the word is it?
						else {
								
							//get indexes where selection exists in randomArray
							function getAllIndexes(arr, val) { 
							var indexes = [];
							for (i = 0; i < arr.length; i++)
									if (arr[i]===val)
									indexes.push(i);
							 return(indexes);
							}
							var indexes = getAllIndexes(randomArray, playerSelection);
							console.log(indexes);

							//replace "__" in placeHolderArray with playerSelection at indexes
							for (i=0; i<indexes.length; i++) {
								placeHolderArray.splice(indexes[i], 1, playerSelection);

							} console.log(placeHolderArray);
							  placeHolderString = placeHolderArray.join("");
							  document.getElementById("mysteryWord").innerHTML = placeHolderString;
						} 


						//if placeHolderArray.indexOf(" __ ") == -1 {

						//	alert(You guessed it! randomWord was it!);
						//}
					} 
				}	

						











		</script>
	</body>
  
</html>    